(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{5462:function(e,t,r){Promise.resolve().then(r.bind(r,5024))},5024:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),n=r(2265);function i(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)({});(0,n.useEffect)(()=>{fetch("http://localhost:8080/reviews/list-reviews").then(e=>e.json()).then(e=>{t(e),fetch("http://localhost:8080/reviews/games").then(e=>e.json()).then(e=>{let t={};e.forEach(e=>{t[e.id]=e.name}),i(t)}).catch(e=>{console.error("Error fetching games:",e)})}).catch(e=>{console.error("Error fetching reviews:",e)})},[]);let c=async r=>{try{let s=await fetch("http://localhost:8080/reviews/delete-review/".concat(r),{method:"DELETE"});if(!s.ok)throw Error("HTTP error "+s.status);t(e.filter(e=>e.id!==r))}catch(e){console.error("Error deleting review:",e)}};return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{children:"All Reviews"}),e.length>0?e.map((e,t)=>(0,s.jsxs)("div",{className:"review",children:[(0,s.jsxs)("h2",{className:"id-games",children:["Id-game: ",r[e.id_game]||e.id_game]}),(0,s.jsxs)("p",{children:["Rating: ",e.rating]}),(0,s.jsxs)("p",{children:["Comment: ",e.comment]}),(0,s.jsx)("button",{className:"delete-button",onClick:()=>c(e.id),children:"Delete"})]},t)):(0,s.jsx)("p",{className:"no-reviews",children:"No reviews available."})]})}r(8367)},8367:function(){}},function(e){e.O(0,[710,971,23,744],function(){return e(e.s=5462)}),_N_E=e.O()}]);