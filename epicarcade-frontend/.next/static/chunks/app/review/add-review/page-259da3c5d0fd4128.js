(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{4634:function(e,t,n){Promise.resolve().then(n.bind(n,454))},6463:function(e,t,n){"use strict";var s=n(1169);n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},454:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(7437),r=n(2265),a=n(6463);function o(){let[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,u]=(0,r.useState)(""),[l,c]=(0,r.useState)([]),h=(0,a.useRouter)();(0,r.useEffect)(()=>{fetch("http://localhost:8080/reviews/games").then(e=>e.json()).then(e=>{c(e)}).catch(e=>{console.error("Error fetching games:",e)})},[]);let d=async t=>{t.preventDefault();try{let t=await fetch("http://localhost:8080/reviews/add-review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_game:e,rating:n,comment:i})});if(!t.ok)throw Error("HTTP error "+t.status);let s=await t.json();console.log("Success:",s),h.push("/review")}catch(e){console.error("Error:",e)}};return(0,s.jsx)("div",{className:"background",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{children:"Add your review"}),(0,s.jsxs)("form",{onSubmit:d,className:"form",children:[(0,s.jsxs)("label",{children:["ID Game:",(0,s.jsx)("input",{list:"games",type:"text",value:e,onChange:e=>t(e.target.value)}),(0,s.jsx)("datalist",{id:"games",children:l.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,s.jsxs)("label",{children:["Rating:",(0,s.jsx)("input",{type:"number",min:"1",max:"5",value:n,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("label",{children:["Comment:",(0,s.jsx)("textarea",{value:i,onChange:e=>u(e.target.value)})]}),(0,s.jsx)("button",{type:"submit",children:"Submit"})]})]})})}n(7030)},7030:function(){}},function(e){e.O(0,[562,971,23,744],function(){return e(e.s=4634)}),_N_E=e.O()}]);